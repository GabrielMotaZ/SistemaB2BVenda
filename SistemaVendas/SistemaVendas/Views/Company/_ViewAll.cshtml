@model IEnumerable<SistemaVendas.Application.ViewModels.CompanyViewModel>

@{
    ViewData["Title"] = "GetCompany";
}

<h2>Company</h2>


@if (TempData["InfoMessage"] != null)
{
    <div class="alert alert-info">
        <strong>Info: </strong>@TempData["InfoMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
        </button>
    </div>
}
else if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success">
        <strong>Success: </strong>@TempData["SuccessMessage"]
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close">
        </button>
    </div>
}

<div class="container">
    <form asp-action="GetCompany">
        <div class="col-md-12">
            <div class="row">

                <div class="col py-3 px-lg-10">
                    <div class="form-group col-md-5">
                        <input class="form-control" name="nome" />
                    </div>
                </div>


                <div class="col py-3 px-lg-10" style="text-align: right;">
                    <div class="form-group">
                        <input type="submit" value="Pesquisar" class="btn btn-primary btn-sm" />
                    </div>
                </div>
               
            </div>
        </div>

 

        <hr />

        <div class="col-md-12">
            <div class="row">

                <div class="col-sm" style="text-align: right;">
                    <div class="form-group">
                        <a onclick="showInPopup('@Url.Action("CreateCompany","Company",Context.Request.Scheme)','New Company')" class="btn btn-primary"><i class="fas fa-random">New Company</i></a>
                    </div>
                </div>
            </div>
        </div>
    </form>

</div>
<hr />


<div class="table-responsive" style="border-radius: 20px 20px 45px 45px;">


    <table class="table table-condensed table-hover">
        <thead>
            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.Nome)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Cnpj)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Telefone)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Email)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.DataCadastro)
                </th>

            </tr>
        </thead>
        <tbody>
            @foreach (var item in Model)
            {

                <tr style="cursor:pointer;" onclick="showInPopup('@Url.Action("UpdateCompany","Company",new {id=item.Id},Context.Request.Scheme)','Update Company')">

                    <td>
                        @Html.DisplayFor(modelItem => item.Nome)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Cnpj)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Telefone)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Email)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DataCadastro)
                    </td>
                </tr>
            }
        </tbody>
    </table>


</div>

